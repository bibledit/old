<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { // Input 0
var a=window;
// Input 1
var c="start";function d(e){this.t={};this.tick=function(f,g,b){b=b?b:(new Date).getTime();this.t[f]=[b,g]};this.tick(c,null,e)}var h=new d;a.jstiming={Timer:d,load:h};try{a.jstiming.pt=a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(i){};
// Input 2
})()
</script>
<link rel="shortcut icon" href="http://www.gstatic.com/sites/p/b46d27/system/app/images/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/b46d27/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e=parseInt,h=window,i="length";function j(a){return document.getElementById(a)}h.byId=j;var k="";function l(a){return a.replace(/^\s+|\s+$/g,k)}h.trim=l;
var m="MSIE",n="6.0",o="string",p='id="',q='" ',r='class="',s='title="',t="display:inline-block;",u="left",v="float:left;",w="right",x="float:right;",y="cursor:hand;",z="<span ",A=' style="width:',B="px; height:",C="px;",D=";padding: 0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",E="', sizingMethod='scale');\"></span><span style=\"padding: ",F=" ",G=";",H="float:",I='"></span>';
h.ie6ImgFix=function(a){var b=h.navigator?navigator.userAgent:k;if(b.indexOf(m)!=-1&&typeof opera=="undefined"){var d=/MSIE\s+([^\);]+)(\)|;)/;d.test(b);b=RegExp.$1;if(b==n){var c=typeof a==o?j(a):a;a=c.id?p+c.id+q:k;b=c.className?r+c.className+q:k;d=c.title?s+c.title+q:s+c.alt+q;var f=t+c.style.cssText;if(c.align==u)f=v+f;if(c.align==w)f=x+f;if(c.parentElement.href)f=y+f;var g=c.currentStyle,L=c.width-e(g.paddingLeft,10)-e(g.paddingRight,10),M=c.height-e(g.paddingTop,10)-e(g.paddingBottom,10),N=
z+a+b+d+A+L+B+M+C+f+D+c.src+E+g.paddingTop+F+g.paddingRight+F+g.paddingBottom+F+g.paddingLeft+G+(g.styleFloat?H+g.styleFloat+G:k)+I;h.setTimeout(function(){c.outerHTML=N},1)}}};var J=[],K=0;h.JOT_addListener=function(a,b,d){var c=new String(K++);a={eventName:a,handler:b,compId:d,key:c};J.push(a);return c};h.JOT_removeListenerByKey=function(a){for(var b=0;b<J[i];b++)if(J[b].key==a){J.splice(b,1);break}};
h.JOT_removeAllListenersForName=function(a){for(var b=0;b<J[i];b++)J[b].eventName==a&&J.splice(b,1)};var O="function";h.JOT_postEvent=function(a,b,d){var c={eventName:a,eventSrc:b||{},payload:d||{}};if(h.JOT_fullyLoaded){b=J[i];for(d=0;d<b&&d<J[i];d++){var f=J[d];if(f&&f.eventName==a){c.listenerCompId=f.compId||k;(f=typeof f.handler==O?f.handler:h[f.handler])&&f(c)}}}else h.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:d})};h.JOT_delayedEvents=[];h.JOT_fullyLoaded=false;var P="{0}";
h.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(a>=1440)return null;var d=0;if(a>=60){a/=60;d=2}a>=2&&d++;return b?h.JOT_siteRelTimeStrs[d].replace(P,Math.floor(a)):h.JOT_userRelTimeStrs[d].replace(P,Math.floor(a))}; })()
</script>
<script>


var webspace = {"signInUrl":"https://www.google.com/a/UniversalLogin?continue=http%3A%2F%2Fsites.google.com%2Fsite%2Fbibledit%2Freference%2Fmenu%2Fmenu-preferences%2Ffilters%2Ftec&service=jotspot","isGaiaBarRendered":false,"isConsumer":true,"termsUrl":"http://www.google.com/sites/help/intl/en/terms.html","enableAnalytics":false,"homePath":"/","sharingPolicy":"OPENED","isAdsenseEnabled":true,"analyticsAccountId":"","baseUri":"/site/bibledit","name":"bibledit","features":{"subpageNav":false,"useNewCountdownEmbed":false,"useStandardEmbedsInSidebar":false,"experimental":{"displayEditorLockExceptions":false},"structuredDataSchemas":false,"editorSaveEndpointMigrations":true},"domain":"defaultdomain","adsensePublisherId":null,"isStartPageEnabled":false,"domainAnalyticsAccountId":"","siteTitle":"bibledit"};


webspace.isInsertPicasaPhotosEnabled = true;
  

webspace.isMyMapsEmbedEnabled = true;
  

webspace.gadgets = {"isGadgetDirectoryEnabled":true,"baseUri":"/site/bibledit/system/app/pages/gadgets","isGgsRenderingEnabled":true};


webspace.user = {"uid":"","hasAdminAccess":false,"guest_":true,"domain":"","hasWriteAccess":false,"userName":"guest","dasherUser":false,"primaryEmail":"guest","displayNameOrEmail":"guest"};

webspace.page = {"locale":"en","state":"","wuid":"wuid:gx:72a858aabff466c9","timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:1f113ccfac967cdd","revision":3,"title":"TECkit","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"tec","path":"/reference/menu/menu-preferences/filters/tec","isSiteRtlLocale":false,"parentPath":"/reference/menu/menu-preferences/filters"};


var editorResources = [
  'http://www.gstatic.com/sites/p/b46d27/system/js/trog_edit__en.js',
  'http://www.gstatic.com/sites/p/b46d27/system/app/css/trogedit.css',
  '/site/bibledit/_/rsrc/1262995271259/system/app/css/editor.css'
];

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/b46d27/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago"," minutes ago","an hour ago"," hours ago"];


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};





var JOT_siteRelTimeStrs = ["a minute ago", "{0} minutes ago", "an hour ago", "{0} hours ago"];


</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="Description" content="bibledit" />
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/b46d27/system/app/themes/iceberg/standard-css-iceberg-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../../_/rsrc/1262995271314/system/app/css/overlay.css%3Fcb=icebergundefineda150goog-ws-left" />
<title>TECkit (bibledit)</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>

<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en">
<div id="sites-page-toolbar">
<div id="sites-status" class="sites-status" style="display:none;">
<div id="sites-notice" class="sites-notice"> </div>
</div>
</div>
<div id="sites-chrome-everything" style="direction: ltr">
<div id="sites-chrome-page-wrapper">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
<tr class="sites-header-primary-row">
<td id="sites-header-title">
<h2><a href="../../../../index.html" dir="ltr">bibledit</a></h2>
</td>
<td class="sites-layout-searchbox">
<div>
<form id="sites-searchbox-form" action="http://sites.google.com/site/bibledit/system/app/pages/search">
<input type="text" onpropertychange="JOT_setTextDir(this)" oninput="JOT_setTextDir(this)" dir="" id="jot-ui-searchInput" name="q" size="20" />
<input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" />
<div class="goog-inline-block goog-button goog-button-base   "><div class="goog-inline-block goog-button-base-outer-box"><div class="goog-inline-block goog-button-base-inner-box"><div class="goog-button-base-pos"><div class="goog-button-base-top-shadow"> </div><div id="sites-searchbox-search-button" class="goog-button-base-content " style="" onclick=""><span id="sites-searchbox-search-button-label">Search this site</span></div></div></div></div></div>
</form>
</div>
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_36117816110642753" class="sites-embed">
<h4 class="sites-embed-title">Navigation</h4>
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotId="navList">
<li class="topLevel nav-first"><div dir="ltr" style="padding-left: 19px;"><a href="../../../../home.html" jotId="wuid:gx:6e856b0d56b16d24" class="topLevel">Bibledit</a>
</div></li>
<li class="topLevel parent" wuid="gx:352a7d62f875dd06"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../installation.html" jotId="wuid:gx:352a7d62f875dd06" class="topLevel">1 Installation</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/asus-eee-pc.html" jotId="wuid:gx:6dfd869fd8fff56f">Asus Eee PC</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/debian.html" jotId="wuid:gx:2aaeb4121f691d3b">Debian</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/fedora.html" jotId="wuid:gx:7d7e684ad24f565d">Fedora</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/macintosh.html" jotId="wuid:gx:7288aaa6480cfa47">Macintosh</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/mandriva.html" jotId="wuid:gx:6a8b866a4d42b896">Mandriva</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/olpc-xo.html" jotId="wuid:gx:4d6576c67ae420f9">OLPC XO</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/opensuse.html" jotId="wuid:gx:a17e9665de5b7e">openSUSE</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/technicalities.html" jotId="wuid:gx:7e554dd72ccca7d9">Technicalities</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/ubuntu.html" jotId="wuid:gx:28a101b277bffcac">Ubuntu</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/windows.html" jotId="wuid:gx:6d4d61b83fe84158">Windows</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:5e96ba01e07638fa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../tutorials.html" jotId="wuid:gx:5e96ba01e07638fa" class="topLevel">2 Tutorials</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/bibledit-for-windows-tutorial.html" jotId="wuid:gx:ebaea7bb338b574">Bibledit for Windows Tutorial</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/checking.html" jotId="wuid:gx:6738f3a30e555420">Checking</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/collaboration.html" jotId="wuid:gx:789409cebc62611f">Collaboration</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/3-editing.html" jotId="wuid:gx:7fe0f18bf82805c3">Editing</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/keyterms-tutorial.html" jotId="wuid:gx:407d65b1cd999649">Keyterms</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/merge-tutorial.html" jotId="wuid:gx:1b9f75b6ba757b20">Merging</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/navigation.html" jotId="wuid:gx:7765a138b28c0ddc">Navigation</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/notes.html" jotId="wuid:gx:8b235ac50a8ee82">Notes</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/planning.html" jotId="wuid:gx:21266175e6583429">Planning</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/printing.html" jotId="wuid:gx:7f3c4ec952e339fd">Printing</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/project.html" jotId="wuid:gx:7a5170afa9fb0c72">Project</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/questions.html" jotId="wuid:gx:391be3d9c0812c49">Questions</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/references.html" jotId="wuid:gx:22ce4a1e64c8fc7">References</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/related-verses.html" jotId="wuid:gx:37d4ae0f21b40015">Related verses</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/revert.html" jotId="wuid:gx:356ad079b6aec90f">Revert</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/searching.html" jotId="wuid:gx:3a2f62d6ee4403e8">Searching</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/spelling.html" jotId="wuid:gx:3b9d5c7ae41967b6">Spelling</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/styles.html" jotId="wuid:gx:74daa2d26e493cc9">Styles</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:131cd938cd026b5b"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../4-management.html" jotId="wuid:gx:131cd938cd026b5b" class="topLevel">3 Management</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../4-management/data.html" jotId="wuid:gx:57f1f42a34392225">Data</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:281e6628b3f58dc1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../resources.html" jotId="wuid:gx:281e6628b3f58dc1" class="topLevel">4 Resources</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bart.html" jotId="wuid:gx:1d43df4eb6fb4f3f">BART</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bibletime.html" jotId="wuid:gx:4e51bd63b0b3ac6">BibleTime</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bibleworks.html" jotId="wuid:gx:31c2be0422b5897">BibleWorks</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/internal-resource.html" jotId="wuid:gx:4ca9bf8cfc6b38dc">Internal Resource</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/online-bible.html" jotId="wuid:gx:18f867a8741560b9">Online Bible</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/t.html" jotId="wuid:gx:7b626157709f3299">Texts in USFM format</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/toolbox.html" jotId="wuid:gx:d9493f0efc14bc0">Toolbox</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/translator-s-workplace.html" jotId="wuid:gx:2983ff91aa088e87">Translator's Workplace</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/xiphos.html" jotId="wuid:gx:3cff0fa5144f0b42">Xiphos</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:7ac9b819ff9c662e"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../6-community.html" jotId="wuid:gx:7ac9b819ff9c662e" class="topLevel">5 Community</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../6-community/contacts.html" jotId="wuid:gx:62718eebb1c640bc">Contacts</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../6-community/development.html" jotId="wuid:gx:5f25cd057ac19722">Development</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:7037389625434404"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../reference.html" jotId="wuid:gx:7037389625434404" class="topLevel">6 Reference</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../changes-log.html" jotId="wuid:gx:341117e94dbf33e7">Changes Log</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../elastics.html" jotId="wuid:gx:7da3b35db216ce32">Elastics</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../internals.html" jotId="wuid:gx:302f8382cb9ee809">Internals</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../keyboard-accelerators.html" jotId="wuid:gx:6016a4e8726b860">Keyboard accelerators</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../menu.html" jotId="wuid:gx:3b68fc5524971d2c">Menu</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../usfm.html" jotId="wuid:gx:16cc8d9a94654792">USFM</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:4fe043481273045b"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../8-about.html" jotId="wuid:gx:4fe043481273045b" class="topLevel">7 About</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../8-about/gnu-free-documentation-license.html" jotId="wuid:gx:3535478411cb1104">GNU Free Documentation License</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../8-about/gnu-general-public-license.html" jotId="wuid:gx:3c220f47e53453ac">GNU General Public License</a>
</div></li>
</ul>
</li>
<li class="topLevel"><div dir="ltr" style="padding-left: 19px;"><a href="../../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:38964c3def55bf8f" class="topLevel">Sitemap</a>
</div></li>
</ul>

</div>
</div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A dir="ltr" href="../../../../reference.html">6 Reference</A>‎ &gt; ‎<A dir="ltr" href="../../../menu.html">Menu</A>‎ &gt; ‎<A dir="ltr" href="../../menu-preferences.1.html">Preferences</A>‎ &gt; ‎<A dir="ltr" href="../filters.html">Filters</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">TECkit</span>
</h3>

<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h2><a name="TOC-TECkit-Language-Reference"></a>TECkit Language Reference</h2><br /><p>This reference is not a full reference, but a partial one. It describes
only that part of the TECkit language that is relevant for how Bibledit uses
it. It was assembled while looking at and re-using the information provided
with the TECkit package. This information is used with permission of the
author of TECkit, and of SIL.</p>
<h3><a name="introduction"></a>Introduction</h3>
<p>The TECkit language is built around simple mapping rules where a Unicode
character on the left-hand side of the rule is mapped to or from a Unicode
character on the right-hand side. From this basic structure, mapping rules
can be extended by the use of character sequences rather than single
characters on either side; by the addition of contextual constraints
(environments) determining when a rule should apply; and by the use of
character classes, optional and repeatable elements, grouping and alternation
to express more complex patterns to be matched and processed.</p>
<p>The TECkit package, as used in Bibledit, is applied to text processing
operations entirely dealing with Unicode data.</p>
<h3><a name="filestructureandconventions"></a>File structure and conventions</h3>
<p>A TECkit description file is strictly line-oriented; every statement is
confined to a single logical line. To allow long rules to be broken across
several lines, for easier editing, TECkit interprets a final backslash (\) as
a “continuation character”; however, only quite complex mappings are
likely to need rules that cannot readily be expressed in a single source
line.</p>
<p>The semicolon (;) introduces a comment that continues to the end of the
(physical) line. TECkit ignores everything following a semicolon, unless it
is in a quoted string.</p>
<p>Built-in keywords in the TECkit mapping language are not case-sensitive;
the compiler will accept any mixture of upper and lower case. This also
applies to Unicode character names. More about this later. However, the names
of character classes defined in the file itself are case-sensitive, and must
be used in a consistent form. More about the character classes later too.</p>
<p>Where “strings” are called for, these may be either single- or
double-quoted. There is no mechanism to “escape” quote marks embedded in
the string; therefore, a single-quoted string can contain double-quote
characters, and vice versa, but it is not possible to include both single and
double quotes in the same quoted string.</p>
<p>Unicode character codes are expressed either numerically or using Unicode
character names, converted into unique “identifiers” by replacing spaces
and hyphens with underscores. TECkit knows a great lot Unicode character
names. The preferred form is to write “U+xxxx”, where xxxx represents
four to six hexadecimal digits. Normal decimal or hex numbers are also
permitted.</p>
<p>Characters may also be expressed as quoted literals. If the mapping source
is Unicode text, then they may be used only for Unicode character values. It
is never legal to use quoted literals on both sides of the mapping.</p>
<p>A complete TECkit mapping description consists of a header section
followed by one or more mapping passes. The simplest Unicode mapping
descriptions will contain just one Unicode pass, but for some complex
mappings it may be necessary to perform pre- and/or post-processing such as
character reordering in other passes. The LHS code space of each pass must
correspond to the RHS code space of the pass before it.</p>
<h3><a name="headerinformation"></a>Header information</h3>
<p>The mapping file begins with header information, which consists of a
number of pieces of information about the encoding and mapping, each
specified by a keyword followed by a quoted string:</p>
<p><span style="font-weight:bold">EncodingName</span></p>
<p>A name that uniquely identifies this mapping table.</p>
<p><span style="font-weight:bold">DescriptiveName</span></p>
<p>A string that describes the mapping.</p>
<p><span style="font-weight:bold">Version</span></p>
<p>The version of the mapping description.</p>
<p><span style="font-weight:bold">Contact</span></p>
<p>Contact information.</p>
<p><span style="font-weight:bold">RegistrationAuthority</span></p>
<p>The organization responsible for the encoding.</p>
<p><span style="font-weight:bold">RegistrationName</span></p>
<p>The name and version of the mapping.</p>
<p><span style="font-weight:bold">Copyright</span></p>
<p>Copyright information.</p>
<p>Only the encoding name is required.</p>
<p>An alternative form of header should be used for mapping descriptions that
do transliterations entirely within Unicode. Instead of EncodingName and
DescriptiveName, the following four fields are used:</p>
<p><span style="font-weight:bold">LHSName</span></p>
<p>Canonical name of the “source” encoding or left-hand side of the
description.</p>
<p><span style="font-weight:bold">RHSName</span></p>
<p>Canonical name of the “target” encoding or right-hand side of the
description.</p>
<p><span style="font-weight:bold">LHSDescription</span></p>
<p>Description for the left-hand side of the mapping.</p>
<p><span style="font-weight:bold">RHSDescription</span></p>
<p>Description for the right-hand side of the mapping.</p>
<p>Note that while we sometimes think of the left-hand side of the
description as “source” and the right-hand side as “target”, TECkit
descriptions and mapping tables are bi-directional, and thus these roles can
equally well be exchanged.</p>
<p>Finally, the file header can include “flags” that specify certain
features of the encoding for both the left- and right-hand sides of the
mapping.</p>
<p><span style="font-weight:bold">LHSFlags ( list-of-flags )</span></p>
<p>Features of the LHS encoding.</p>
<p><span style="font-weight:bold">RHSFlags ( list-of-flags )</span></p>
<p>Features of the RHS encoding.</p>
<p>For each side of the mapping, zero or more of the following flags can be
specified:</p>
<p><span style="font-weight:bold">ExpectsNFC</span></p>
<p>Input on this side of the mapping should be in fully-composed form.</p>
<p><span style="font-weight:bold">ExpectsNFD</span></p>
<p>Input on this side of the mapping should be in fully-decomposed form.</p>
<p><span style="font-weight:bold">GeneratesNFC</span></p>
<p>Output on this side of the mapping is fully-composed.</p>
<p><span style="font-weight:bold">GeneratesNFD</span></p>
<p>Output on this side of the mapping is fully-decomposed.</p>
<p><span style="font-weight:bold">VisualOrder</span></p>
<p>This side of the mapping deals with visual (rather than logical) text
order.</p>
<p>The “<span style="font-weight:bold">expects</span>” flags can be used
to specify that Unicode input to this side of the mapping should be
normalized before it is presented to the actual mapping rules. By specifying
a normalization form for the Unicode side of a mapping description, the
author can write mapping rules assuming a particular canonical
representation. The TECkit engine will take care of normalizing the input
text so that it matches the expectation of the rules.</p>
<p>The “<span style="font-weight:bold">generates</span>” flags allow the
mapping author to declare which normalization form will be produced by the
mapping rules. However, as it can be difficult to ensure the accuracy of
this, TECkit does not “trust” this flag, but always explicitly normalizes
the output if requested by the application using the mapping.</p>
<p>A typical example of the header information might be:</p>
<pre>  EncodingName          "Bibledit-NdebeleDiglot-2008"</pre>
<pre>  DescriptiveName       "Simple rules for transliteration"</pre>
<pre>  Version               "1"</pre>
<pre>  Contact               "mailto:author@domain.org"</pre>
<pre>  RegistrationAuthority "Bibledit International Ltd."</pre>
<pre>  RegistrationName      "Bibledit Ndebele Diglot"</pre>
<pre>  Copyright             "(c)2008 The Author (released under GPL3"</pre>
<pre>  LHSFlags              ()</pre>
<pre>  RHSFlags              (ExpectsNFD GeneratesNFD)</pre>
<h3><a name="mappingpasses"></a>Mapping passes</h3>
<p>The heart of a mapping description is the series of mapping passes that
relate characters or sequences on the LHS to those on the RHS. In simple
cases there is just one pass.</p>
<p>Each pass begins with a header line that declares the encoding space in
which it operates:</p>
<pre>  pass( pass-type )</pre>
<p>where pass-type is one of:</p>
<pre>  Byte</pre>
<pre>  Unicode</pre>
<pre>  Byte_Unicode</pre>
<pre>  Unicode_Byte</pre>
<p>As Bibledit only works with UTF-8 encoded data, the pass-type should
always be Unicode.</p>
<p>There are also special “normalization pass” types that can be used in
special cases. To create a normalization pass, specify pass-type as one
of:</p>
<pre>  NFC_fwd</pre>
<pre>  NFD_fwd</pre>
<pre>  NFC_rev</pre>
<pre>  NFD_rev</pre>
<pre>  NFC</pre>
<pre>  NFD</pre>
<p>As the names suggest, these apply the NFC or NFD Unicode normalization
forms as part of the forward, reverse, or both processing “pipelines”.
Most mappings will not need to include explicit normalization passes, as the
ExpectsNFC or ExpectsNFD flag can be used to request pre-normalization of
Unicode data before any mapping rules are applied, and applications using
TECkit can explicitly request either NFC or NFD data when mapping to Unicode.
The only reason to use a normalization pass in a mapping description would be
to ensure that data is in a particular normalization form somewhere in the
middle of a multi-pass Unicode transduction.</p>
<h3><a name="classdefinitions"></a>Class definitions</h3>
<p>Character classes may be used to make the mapping description more
readable and concise; suitable class definitions allow a single rule to
express a whole set of related mappings. They are typically used in
contextual constraints or as elements of rules that reorder character
sequences.</p>
<p>Classes are defined with the UniClass statement:</p>
<pre>  UniClass [ name ] = ( unicodeSequence )</pre>
<p>Class names, always enclosed in square brackets, are “identifiers”
that may contain letters, digits, and the underscore character; they may not
begin with a digit. Unlike the keywords of the TECkit language, they are
case-sensitive. The Unicode sequence is a space-separated list of character
codes, similar to those used in mapping rules (see below), with the addition
of a “range” notation: two character codes separated by .. represent the
complete set of characters from the first to the second (inclusive).</p>
<p>Some examples:</p>
<pre>  UniClass [control] = ( U+0000..U+001f U+007f )</pre>
<pre>  UniClass [letter] = ( U+0041..U+005a U+0061..U+007a )</pre>
<h3><a name="defaultsforunmappedcharacters"></a>Defaults for unmapped characters</h3>
<p>In Unicode passes, any characters not explicitly matched by mapping rules
will be output unchanged. </p>
<h3><a name="mappingrules"></a>Mapping rules</h3>
<p>The actual mapping from Unicode to Unicode is expressed as a list of
mapping rules. A mapping description actually contains two complete sets of
mapping rules, one set that matches characters in the first Unicode text and
generates Unicode, and the other set that match Unicode characters in the
second text and generate Unicode for the first text. However, in most cases
it is simplest to express both mappings at once, using bi-directional rules
where either side of the rule can act as “match” with the other being
“replacement”.</p>
<p>The general form of a mapping rule is:</p>
<pre>  lhsSeq [ / lhsContext ] operator rhsSeq [ / rhsContext ]</pre>
<p>Here, <span style="font-style:italic">operator</span> indicates whether
this rule is to be used only when mapping from the left-hand side to the
right, from the right-hand side to the left, or (the most common case) in
both directions:</p>
<pre>  &lt;&gt;   bidirectional mapping rule</pre>
<pre>  &gt;    unidirectional LHS-to-RHS rule</pre>
<pre>  &lt;    unidirectional RHS-to-LHS rule</pre>
<p>The <span style="font-style:italic">lhsSeq</span> and <span style="font-style:italic">rhsSeq</span> parts of the rule are simple lists
of character codes. These may be expressed as decimal numbers or as
hexadecimal (prefixed with 0x). In Unicode sequences, characters may also be
listed by their Unicode character names as found in <a href="http://www.unicode.org/Public/UNIDATA/UnicodeData.txt" rel="nofollow">http://www.unicode.org/Public/UNIDATA/UnicodeData.txt</a>,
with all non-alphanumeric characters in the names converted to underscores;
thus, for example, <span style="font-style:italic">thai_character_ko_kai</span> may be used instead
of 0x0E01 to make the mapping description file more self-documenting. The
Unicode character names are not case-sensitive.</p>
<p>During the mapping operation, whichever of <span style="font-style:italic">lhsSeq</span> or <span style="font-style:italic">rhsSeq</span> corresponds to the input side of
the rule can be considered a “match string”, with the other being its
“replacement”. The context associated with the match string, if any, acts
as a constraint on the application of the rule. Any context associated with
the replacement is irrelevant; it would be used when mapping in the other
direction.</p>
<p>Character class references may be used in the match and replacement
sequences, although for clarity it may be better to list each individual
character mapping. If a class is used on the replacement side of a rule, it
must correspond to a class on the match side, and the resulting rules will
map each character in the match class to the equivalent character in the
replacement class. The classes must contain the same number of characters.
Item tags, see below, may be used to associate the replacement class item
with its corresponding match item; in the absence of such tags, items are
matched by position within the match and replacement strings.</p>
<p>For contextually constrained mappings, the <span style="font-style:italic">lhsContext</span> and <span style="font-style:italic">rhsContext</span> parts of the mapping rule are
used. These use a “slash … underscore” notation:</p>
<pre>  / preContextSeq _ postContextSeq</pre>
<p>The match and replace strings and the pre- and post-contexts may be simple
sequences of character codes, or may be more complex expressions using the
following “regular expression” elements:</p>
<pre>  [cls]    match any character from the class cls</pre>
<pre>  .        match any single character</pre>
<pre>  #        match beginning or end of input text</pre>
<pre>  ^item    ‘not item’: match anything except the given item</pre>
<p>The 'not item' applies to single items only; negated groups are not
supported.</p>
<pre>  (...)    grouping (for optionality or repeat counts)</pre>
<pre>  |        alternation (within group): match either preceding or following sequence</pre>
<pre>  {a,b}    match preceding item minimum a times, maximum b (0 ≤ a ≤ b ≤ 15)</pre>
<pre>  ?        match preceding item 0 or 1 times</pre>
<pre>  *        match preceding item 0 to 15 times</pre>
<pre>  +        match preceding item 1 to 15 times</pre>
<pre>  =tag     tag preceding item for match/replacement association</pre>
<pre>  @tag     duplicate the tagged item (including groups) from LHS</pre>
<p>The @tag can only occur on RHS. It is typically used to implement
reordering.</p>
<p>A couple of notes on the use of regular expressions and context
constraints:</p>
<ul><li>Repeat counts or optionality may be applied to parenthesized groups as
well as to individual items.</li><li>It is meaningless to specify context on the replacement side of a
unidirectional rule; contextual constraints apply to the matching process
on the input side of the conversion.</li><li>The special ‘#’ code is only meaningful as the first item in the
pre-context or the last item in the post-context; in effect, there is an
“end of text” pseudo-character before the first real character of
input, and one after the last, which can only match this code.</li><li>A negated item is still a “concrete” item that matches a real
character in the input or the “end of text” pseudo-character.</li><li>No repeatable item can ever match more than 15 times; unlike standard
regular expressions, the <span style="font-style:italic">star</span>
and <span style="font-style:italic">plus</span> operators have a fixed
upper bound. In principle, a repeatable element within a repeatable group
will permit a higher total number of repetitions.</li></ul>
<p>Rules are tested from the most to the least specific, where a longer rule
(counting the length of context as well as the actual match string) is
considered more specific than a shorter one. If there are two equally long
rules that could match at a particular place in the input, the first one
listed in the mapping description file will be used.</p>
<p>The maximum potential length of any pre-context (considering all repeat
counts) in a pass, plus the maximum potential match string, plus the maximum
potential post-context, must not exceed 255 characters. Similarly, the
maximum output that can be generated from any rule is limited to 255
characters. </p>
<h3><a name="macros"></a>Macros</h3>
<p>TECkit supports a simple macro facility; this may be used to define
symbols that act as “shorthand” for frequently-used fragments of a
mapping description, such as character classes that are needed in multiple
passes, or sequences used in the context of multiple rules.</p>
<p>A macro is defined with a line of the form:</p>
<pre>  Define name &lt;arbitrary TECkit source&gt;</pre>
<p>Following such a line, wherever such names are found in the description,
these are treated as representing the specified source texts. </p>
<p>This is particularly useful when the context is complex, perhaps involving
several alternatives or multiple repeatable items; suitably descriptive macro
names may also serve to make the mapping description more
self-documenting.</p>
<p>Another use for macros is to provide more convenient names for Unicode
characters. This can help make mapping descriptions more readable.</p>
<p>Note that macros must be defined before they are used, including any use
in the definition of other macros; thus, it is legitimate to say:</p>
<pre>Define NUL   0x00</pre>
<pre>Define DEL   0x7F</pre>
<pre>Define ASCII NUL..DEL</pre>
<p>But with the definitions rearranged so that NUL and DEL are not defined
when they are used in the definition of ASCII, even if they are defined
subsequently, the result will be a compile-time error:</p>
<pre>Define ASCII NUL..DEL</pre>
<pre>Define NUL   0x00</pre>
<pre>Define DEL   0x7F</pre>
<pre>ByteClass[asc] = (ASCII)</pre>
<p>This will generate an error on the ByteClass line, because the identifiers
NUL and DEL found in the expansion of ASCII will be considered undefined.</p>
<h3><a name="unicodeonlymappings"></a>Unicode-only mappings</h3>
<p>The TECkit system, while targeted primarily at byte/Unicode conversion, is
used by Bibledit for Unicode mapping operations. A mapping description need
not contain a Byte_Unicode pass at all. If it contains only Unicode passes,
both input and output are Unicode data.</p>
<h3><a name="example"></a>Example</h3>
<p>A simple example of a TECkit mapping may help you to start writing your
own quickly.</p>
<pre>EncodingName "Example"<br />pass (Unicode)<br />; This simple example transliterates the Latin characters a and b<br />; to the Greek α and β.<br />U+0061  &gt;  U+03B1<br />U+0062  &gt;  U+03B2</pre>
<p>End of example.</p><br /></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-attachments" style="display:none" class="sites-canvas-bottom-no-items">
<div id="sites-attachment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotId="sites-attachment-inner" style="display:none;" class="sites-attachment-inner">
<ul id="JOT_ATTACH_container">
</ul>
</div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments" style="display:none;" class="sites-canvas-bottom-no-items">
<div id="sites-comment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotId="sites-comment-inner" style="display:none;" class="sites-comment-inner">
<div jotId="comments" class="sites-comments">
<div id="_wuid_" jotId="template" class="sites-comment" style="display:none">
<div><strong>_displayNameOrEmail_</strong> - _time_ - <a href="javascript:;" onClick="JOT_postEvent('removeComment', this, {wuid:'_wuid_'});">Remove</a></div>
<p dir="_dir_">_text_</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter">
<p>
            
                 
                <a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?continue=http%3A%2F%2Fsites.google.com%2Fsite%2Fbibledit%2Freference%2Fmenu%2Fmenu-preferences%2Ffilters%2Ftec&amp;service=jotspot">Sign in</a>
              
             
            <a class="sites-system-link" href="javascript:void(window.open('http://www.google.com/sites/help/intl/en/terms.html'))">Terms</a>
             
            <a class="sites-system-link" href="../../../../system/app/pages/reportAbuse%3Fsrc=%252Freference%252Fmenu%252Fmenu-preferences%252Ffilters%252Ftec.html" target="_blank">Report Abuse</a>
            
                 
                <a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print page</a>
              
            
             | 
            <b class="powered-by">Powered by <a class="sites-system-link" href="../../../../../../../www.google.com/accounts/ServiceLogin%3Fcontinue=http:%252F%252Fsites.google.com%252F&amp;service=jotspot&amp;passive=true&amp;ul=1.html">Google Sites</a></b>
</p>
</div>
</div>
</div>
</div>
</div> 
</div> 
</div> 

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>

<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/b46d27/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
          var searchBox = new gsites.Searchbox('sites-searchbox-search-button');
          searchBox.initListeners();
          searchBox.setScopesMenu(webspace.page.isSiteRtlLocale);
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("36117816110642753", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_36117816110642753');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000,1128902400000,1130657000000,1143333000000,1143806400000,1145000000000,1146380000000,1152489600000,1159800000000,1159500000000,1162095000000,1162075000000,1162105500000]);
    gsites.Xhr.send('http://sites.google.com/site/bibledit/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {                    
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer);
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();

    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }
 //]]>
</script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
