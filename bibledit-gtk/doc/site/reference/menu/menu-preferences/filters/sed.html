<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { // Input 0
var a=window;
// Input 1
var c="start";function d(e){this.t={};this.tick=function(f,g,b){b=b?b:(new Date).getTime();this.t[f]=[b,g]};this.tick(c,null,e)}var h=new d;a.jstiming={Timer:d,load:h};try{a.jstiming.pt=a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(i){};
// Input 2
})()
</script>
<link rel="shortcut icon" href="http://www.gstatic.com/sites/p/b46d27/system/app/images/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/b46d27/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e=parseInt,h=window,i="length";function j(a){return document.getElementById(a)}h.byId=j;var k="";function l(a){return a.replace(/^\s+|\s+$/g,k)}h.trim=l;
var m="MSIE",n="6.0",o="string",p='id="',q='" ',r='class="',s='title="',t="display:inline-block;",u="left",v="float:left;",w="right",x="float:right;",y="cursor:hand;",z="<span ",A=' style="width:',B="px; height:",C="px;",D=";padding: 0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",E="', sizingMethod='scale');\"></span><span style=\"padding: ",F=" ",G=";",H="float:",I='"></span>';
h.ie6ImgFix=function(a){var b=h.navigator?navigator.userAgent:k;if(b.indexOf(m)!=-1&&typeof opera=="undefined"){var d=/MSIE\s+([^\);]+)(\)|;)/;d.test(b);b=RegExp.$1;if(b==n){var c=typeof a==o?j(a):a;a=c.id?p+c.id+q:k;b=c.className?r+c.className+q:k;d=c.title?s+c.title+q:s+c.alt+q;var f=t+c.style.cssText;if(c.align==u)f=v+f;if(c.align==w)f=x+f;if(c.parentElement.href)f=y+f;var g=c.currentStyle,L=c.width-e(g.paddingLeft,10)-e(g.paddingRight,10),M=c.height-e(g.paddingTop,10)-e(g.paddingBottom,10),N=
z+a+b+d+A+L+B+M+C+f+D+c.src+E+g.paddingTop+F+g.paddingRight+F+g.paddingBottom+F+g.paddingLeft+G+(g.styleFloat?H+g.styleFloat+G:k)+I;h.setTimeout(function(){c.outerHTML=N},1)}}};var J=[],K=0;h.JOT_addListener=function(a,b,d){var c=new String(K++);a={eventName:a,handler:b,compId:d,key:c};J.push(a);return c};h.JOT_removeListenerByKey=function(a){for(var b=0;b<J[i];b++)if(J[b].key==a){J.splice(b,1);break}};
h.JOT_removeAllListenersForName=function(a){for(var b=0;b<J[i];b++)J[b].eventName==a&&J.splice(b,1)};var O="function";h.JOT_postEvent=function(a,b,d){var c={eventName:a,eventSrc:b||{},payload:d||{}};if(h.JOT_fullyLoaded){b=J[i];for(d=0;d<b&&d<J[i];d++){var f=J[d];if(f&&f.eventName==a){c.listenerCompId=f.compId||k;(f=typeof f.handler==O?f.handler:h[f.handler])&&f(c)}}}else h.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:d})};h.JOT_delayedEvents=[];h.JOT_fullyLoaded=false;var P="{0}";
h.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(a>=1440)return null;var d=0;if(a>=60){a/=60;d=2}a>=2&&d++;return b?h.JOT_siteRelTimeStrs[d].replace(P,Math.floor(a)):h.JOT_userRelTimeStrs[d].replace(P,Math.floor(a))}; })()
</script>
<script>


var webspace = {"signInUrl":"https://www.google.com/a/UniversalLogin?continue=http%3A%2F%2Fsites.google.com%2Fsite%2Fbibledit%2Freference%2Fmenu%2Fmenu-preferences%2Ffilters%2Fsed&service=jotspot","isGaiaBarRendered":false,"isConsumer":true,"termsUrl":"http://www.google.com/sites/help/intl/en/terms.html","enableAnalytics":false,"homePath":"/","sharingPolicy":"OPENED","isAdsenseEnabled":true,"analyticsAccountId":"","baseUri":"/site/bibledit","name":"bibledit","features":{"subpageNav":false,"useNewCountdownEmbed":false,"useStandardEmbedsInSidebar":false,"experimental":{"displayEditorLockExceptions":false},"structuredDataSchemas":false,"editorSaveEndpointMigrations":true},"domain":"defaultdomain","adsensePublisherId":null,"isStartPageEnabled":false,"domainAnalyticsAccountId":"","siteTitle":"bibledit"};


webspace.isInsertPicasaPhotosEnabled = true;
  

webspace.isMyMapsEmbedEnabled = true;
  

webspace.gadgets = {"isGadgetDirectoryEnabled":true,"baseUri":"/site/bibledit/system/app/pages/gadgets","isGgsRenderingEnabled":true};


webspace.user = {"uid":"","hasAdminAccess":false,"guest_":true,"domain":"","hasWriteAccess":false,"userName":"guest","dasherUser":false,"primaryEmail":"guest","displayNameOrEmail":"guest"};

webspace.page = {"locale":"en","state":"","wuid":"wuid:gx:52cd52b80c2ed40e","timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:1f113ccfac967cdd","revision":4,"title":"sed","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"sed","path":"/reference/menu/menu-preferences/filters/sed","isSiteRtlLocale":false,"parentPath":"/reference/menu/menu-preferences/filters"};


var editorResources = [
  'http://www.gstatic.com/sites/p/b46d27/system/js/trog_edit__en.js',
  'http://www.gstatic.com/sites/p/b46d27/system/app/css/trogedit.css',
  '/site/bibledit/_/rsrc/1262913739408/system/app/css/editor.css'
];

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/b46d27/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago"," minutes ago","an hour ago"," hours ago"];


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};





var JOT_siteRelTimeStrs = ["a minute ago", "{0} minutes ago", "an hour ago", "{0} hours ago"];


</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="Description" content="bibledit" />
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/b46d27/system/app/themes/iceberg/standard-css-iceberg-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../../_/rsrc/1262913739443/system/app/css/overlay.css%3Fcb=icebergundefineda150goog-ws-left" />
<title>sed (bibledit)</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>

<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en">
<div id="sites-page-toolbar">
<div id="sites-status" class="sites-status" style="display:none;">
<div id="sites-notice" class="sites-notice"> </div>
</div>
</div>
<div id="sites-chrome-everything" style="direction: ltr">
<div id="sites-chrome-page-wrapper">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
<tr class="sites-header-primary-row">
<td id="sites-header-title">
<h2><a href="../../../../index.html" dir="ltr">bibledit</a></h2>
</td>
<td class="sites-layout-searchbox">
<div>
<form id="sites-searchbox-form" action="http://sites.google.com/site/bibledit/system/app/pages/search">
<input type="text" onpropertychange="JOT_setTextDir(this)" oninput="JOT_setTextDir(this)" dir="" id="jot-ui-searchInput" name="q" size="20" />
<input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" />
<div class="goog-inline-block goog-button goog-button-base   "><div class="goog-inline-block goog-button-base-outer-box"><div class="goog-inline-block goog-button-base-inner-box"><div class="goog-button-base-pos"><div class="goog-button-base-top-shadow"> </div><div id="sites-searchbox-search-button" class="goog-button-base-content " style="" onclick=""><span id="sites-searchbox-search-button-label">Search this site</span></div></div></div></div></div>
</form>
</div>
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_36117816110642753" class="sites-embed">
<h4 class="sites-embed-title">Navigation</h4>
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotId="navList">
<li class="topLevel nav-first"><div dir="ltr" style="padding-left: 19px;"><a href="../../../../home.html" jotId="wuid:gx:6e856b0d56b16d24" class="topLevel">Bibledit</a>
</div></li>
<li class="topLevel parent" wuid="gx:352a7d62f875dd06"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../installation.html" jotId="wuid:gx:352a7d62f875dd06" class="topLevel">1 Installation</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/asus-eee-pc.html" jotId="wuid:gx:6dfd869fd8fff56f">Asus Eee PC</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/debian.html" jotId="wuid:gx:2aaeb4121f691d3b">Debian</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/fedora.html" jotId="wuid:gx:7d7e684ad24f565d">Fedora</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/macintosh.html" jotId="wuid:gx:7288aaa6480cfa47">Macintosh</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/mandriva.html" jotId="wuid:gx:6a8b866a4d42b896">Mandriva</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/olpc-xo.html" jotId="wuid:gx:4d6576c67ae420f9">OLPC XO</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/opensuse.html" jotId="wuid:gx:a17e9665de5b7e">openSUSE</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/technicalities.html" jotId="wuid:gx:7e554dd72ccca7d9">Technicalities</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/ubuntu.html" jotId="wuid:gx:28a101b277bffcac">Ubuntu</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../installation/windows.html" jotId="wuid:gx:6d4d61b83fe84158">Windows</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:5e96ba01e07638fa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../tutorials.html" jotId="wuid:gx:5e96ba01e07638fa" class="topLevel">2 Tutorials</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/bibledit-for-windows-tutorial.html" jotId="wuid:gx:ebaea7bb338b574">Bibledit for Windows Tutorial</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/checking.html" jotId="wuid:gx:6738f3a30e555420">Checking</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/collaboration.html" jotId="wuid:gx:789409cebc62611f">Collaboration</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/3-editing.html" jotId="wuid:gx:7fe0f18bf82805c3">Editing</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/keyterms-tutorial.html" jotId="wuid:gx:407d65b1cd999649">Keyterms</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/merge-tutorial.html" jotId="wuid:gx:1b9f75b6ba757b20">Merging</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/navigation.html" jotId="wuid:gx:7765a138b28c0ddc">Navigation</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/notes.html" jotId="wuid:gx:8b235ac50a8ee82">Notes</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/planning.html" jotId="wuid:gx:21266175e6583429">Planning</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/printing.html" jotId="wuid:gx:7f3c4ec952e339fd">Printing</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/project.html" jotId="wuid:gx:7a5170afa9fb0c72">Project</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/questions.html" jotId="wuid:gx:391be3d9c0812c49">Questions</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/references.html" jotId="wuid:gx:22ce4a1e64c8fc7">References</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/related-verses.html" jotId="wuid:gx:37d4ae0f21b40015">Related verses</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/revert.html" jotId="wuid:gx:356ad079b6aec90f">Revert</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/searching.html" jotId="wuid:gx:3a2f62d6ee4403e8">Searching</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/spelling.html" jotId="wuid:gx:3b9d5c7ae41967b6">Spelling</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../tutorials/styles.html" jotId="wuid:gx:74daa2d26e493cc9">Styles</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:131cd938cd026b5b"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../4-management.html" jotId="wuid:gx:131cd938cd026b5b" class="topLevel">3 Management</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../4-management/data.html" jotId="wuid:gx:57f1f42a34392225">Data</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:281e6628b3f58dc1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../resources.html" jotId="wuid:gx:281e6628b3f58dc1" class="topLevel">4 Resources</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bart.html" jotId="wuid:gx:1d43df4eb6fb4f3f">BART</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bibletime.html" jotId="wuid:gx:4e51bd63b0b3ac6">BibleTime</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/bibleworks.html" jotId="wuid:gx:31c2be0422b5897">BibleWorks</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/internal-resource.html" jotId="wuid:gx:4ca9bf8cfc6b38dc">Internal Resource</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/online-bible.html" jotId="wuid:gx:18f867a8741560b9">Online Bible</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/t.html" jotId="wuid:gx:7b626157709f3299">Texts in USFM format</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/toolbox.html" jotId="wuid:gx:d9493f0efc14bc0">Toolbox</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/translator-s-workplace.html" jotId="wuid:gx:2983ff91aa088e87">Translator's Workplace</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../resources/xiphos.html" jotId="wuid:gx:3cff0fa5144f0b42">Xiphos</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:7ac9b819ff9c662e"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../6-community.html" jotId="wuid:gx:7ac9b819ff9c662e" class="topLevel">5 Community</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../6-community/contacts.html" jotId="wuid:gx:62718eebb1c640bc">Contacts</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../6-community/development.html" jotId="wuid:gx:5f25cd057ac19722">Development</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:7037389625434404"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../reference.html" jotId="wuid:gx:7037389625434404" class="topLevel">6 Reference</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../changes-log.html" jotId="wuid:gx:341117e94dbf33e7">Changes Log</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../elastics.html" jotId="wuid:gx:7da3b35db216ce32">Elastics</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../internals.html" jotId="wuid:gx:302f8382cb9ee809">Internals</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../keyboard-accelerators.html" jotId="wuid:gx:6016a4e8726b860">Keyboard accelerators</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../menu.html" jotId="wuid:gx:3b68fc5524971d2c">Menu</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../usfm.html" jotId="wuid:gx:16cc8d9a94654792">USFM</a>
</div></li>
</ul>
</li>
<li class="topLevel parent" wuid="gx:4fe043481273045b"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../../../../8-about.html" jotId="wuid:gx:4fe043481273045b" class="topLevel">7 About</a>
</div><ul>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../8-about/gnu-free-documentation-license.html" jotId="wuid:gx:3535478411cb1104">GNU Free Documentation License</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../../../../8-about/gnu-general-public-license.html" jotId="wuid:gx:3c220f47e53453ac">GNU General Public License</a>
</div></li>
</ul>
</li>
<li class="topLevel"><div dir="ltr" style="padding-left: 19px;"><a href="../../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:76cec0ece2059b89" class="topLevel">Sitemap</a>
</div></li>
</ul>

</div>
</div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A dir="ltr" href="../../../../reference.html">6 Reference</A>‎ &gt; ‎<A dir="ltr" href="../../../menu.html">Menu</A>‎ &gt; ‎<A dir="ltr" href="../../menu-preferences.1.html">Preferences</A>‎ &gt; ‎<A dir="ltr" href="../filters.html">Filters</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">sed</span>
</h3>

<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><p>This reference was assembled while closely looking at the information
provided in <a href="http://www.grymoire.com/Unix/Sed.html" rel="nofollow">Sed - An
Introduction and Tutorial</a>. In March 2008, the author, Bruce Barnett, gave
permission to use that information for the reference.</p>
<h3><a name="theessentialcommandsforsubstitution"></a>The essential command: s for substitution</h3>
<p>The substitute command is the s. It changes all occurrences of a regular
expression into another value. A simple example changes "day" to "night":</p>
<pre>s/day/night/</pre>
<p>This substitute command consists of four parts.<br />
</p>
<pre>s         substitute command<br />/../../   delimiters<br />day       regular expression pattern string<br />night     replacement string</pre>
<p>The <a href="regex.html">regular expressions</a>
are covered in detail in another reference. </p>
<h3><a name="theslashasadelimiter"></a>The slash as a delimiter</h3>
<p>The character after the <i>s</i> is the delimiter. Conventionally it is a
slash, but it can be anything that you want.</p>
<p>For example, it can be an underscore instead of the slash:</p>
<pre>s_day_night_</pre>
<p>Or colons: </p>
<pre>s:day:night:</pre>
<p>Or you can use the "|" character. </p>
<pre>s|day|night|</pre>
<p>Select the one that you want. As long as it is not in the string that you
are looking for, anything works. Also remember that three delimiters are
needed. If you get a "Unterminated 's' command" it is because you are missing
one of them. </p>
<h3><a name="usingampasthematchedstring"></a>Using &amp; as the matched string</h3>
<p>At times one may want to search for a pattern and add some characters,
like parenthesis, around or near the pattern that was found. It is easy to do
this if looking for a particular string: </p>
<pre>s/abc/(abc)/</pre>
<p>This won't work if you don't know exactly what you will find. How can you
put the string you found in the replacement string if you don't know what it
is? </p>
<p>The solution requires the special character "&amp;." It corresponds to the
pattern found. </p>
<pre>s/[a-z]*/(&amp;)/</pre>
<p>There can be any number of "&amp;" in the replacement string. You could
also double a pattern, e.g. the first number of a line: </p>
<pre>s/[0-9]*/&amp; &amp;/</pre>
<p>If the input for this rule is "123 abc", then the output will be "123 123
abc".</p>
<p>Let's slightly amend this example. Sed will match the first string, and
make it as greedy as possible. The first match for '[0-9]*' is the first
character on the line, as this matches zero of more numbers. So if the input
was "abc 123" the output would be unchanged, except for a space before the
letters. A better way to duplicate the number is to make sure it matches a
number: </p>
<pre>s/[0-9][0-9]*/&amp; &amp;/</pre>
<p>The input of "123 abc" becomes "123 123 abc".</p>
<h3><a name="using1tokeeppartofthepattern"></a>Using \1 to keep part of the pattern</h3>
<p>The use of "(" ")" and "1" has been described in the reference on <a href="regex.html">regular expressions.</a> To review,
the escaped parenthesis (that is, parenthesis with backslashes before them)
remember portions of the regular expression. The "\1" is the first remembered
pattern, and the "\2" is the second remembered pattern. If you wanted to keep
the first word of a line, and delete the rest of the line, mark the important
part with the parenthesis: </p>
<pre>s/\([a-z]*\)*/\1/</pre>
<p>If you want to switch two words around, you can remember two patterns and
change the order around: </p>
<pre>s/\([a-z]*\) \([a-z]*\)/\2 \1/<br /></pre>
<p>The "\1" doesn't have to be in the replacement string. It can be in the
pattern you are searching for. If you want to eliminate duplicated words, you
can try: </p>
<pre>s/\([a-z]*\)\1/\1/<br /></pre>
<p>You can have up to nine values: "\1" thru "\9." </p>
<h3><a name="substituteflags"></a>Substitute Flags</h3>
<p>You can add additional flags after the last delimiter. These flags can
specify what happens when there is more than one occurrence of a pattern on a
single line, and what to do if a substitution is found.</p>
<h3><a name="gglobalreplacement"></a>/g - Global replacement</h3>
<p>Most Unix utilties work on files, reading a line at a time. <i>Sed</i>, by
default, is the same way. If you tell it to change a word, it will only
change the first occurrence of the word on a line. You may want to make the
change on every word on the line instead of the first. For an example, let's
place parentheses around words on a line. Instead of using a pattern like
"[A-Za-z]*" which won't match words like "won't," we will use a pattern, "[^
]*," that matches everything except a space. Well, this will also match
anything because "*" means <b>zero or more</b>. To work around a possible bug
in sed, you must avoid matching the null string when using the "g" flag to
<i>sed</i>. A work-around example is: "[^ ][^ ]*." The following will put
parenthesis around the first word: </p>
<pre>s/[^ ]*/(&amp;)/<br /></pre>
<p>If you want it to make changes for every word, add a "g" after the last
delimiter and use the work-around: </p>
<pre>s/[^ ][^ ]*/(&amp;)/g<br /></pre>
<h3><a name="issedrecursive"></a>Is sed recursive?</h3>
<p><i>Sed</i> only operates on patterns found in the incoming data. That is,
the input line is read, and when a pattern is matched, the modified output is
generated, and the <b>rest</b> of the input line is scanned. The "s" command
will not scan the newly created output. That is, you don't have to worry
about expressions like: </p>
<pre>s/loop/loop the loop/g<br /></pre>
<p>This will not cause an infinite loop. If a second "s" command is executed,
it could modify the results of a previous command. I will show you how to
execute multiple commands later. </p>
<h3><a name="12etcspecifyingwhichoccurrence"></a>/1, /2, etc. Specifying which occurrence</h3>
<p>With no flags, the first pattern is changed. With the "g" option, all
patterns are changed. If you want to modify a particular pattern that is not
the first one on the line, you could use "\(" and "\)" to mark each pattern,
and use "\1" to put the first pattern back unchanged. This next example keeps
the first word on the line but deletes the second: </p>
<pre>s/\([a-zA-Z]*\) \([a-zA-Z]*\) /\1 /<br /></pre>
<p>This rule is ugly! There is an easier way to do this. You can add a number
after the substitution command to indicate you only want to match that
particular pattern. Example: </p>
<pre>s/[a-zA-Z]* //2<br /></pre>
<p>You can combine a number with the g (global) flag. For instance, if you
want to leave the first world alone alone, but change the second, third, etc.
to DELETED, use /2g: </p>
<pre>s/[a-zA-Z]* /DELETED /2g<br /></pre>
<p>Don't get /2 and \2 confused. The /2 is used at the end. \2 is used in
inside the replacement field. </p>
<p>Note the space after the "*" character. Without the space, <i>sed</i> will
run a long, long time. (Note: this bug is probably fixed by now.) This is
because the number flag and the "g" flag have the same bug. You should also
be able to use the pattern </p>
<pre>s/[^ ]*//2<br /></pre>
<p>but this also eats CPU.<br />
</p>
<p>The number flag is not restricted to a single digit. It can be any number
from 1 to 512. If you wanted to add a colon after the 80th character in each
line, you could type: </p>
<pre>s/./&amp;:/80<br /></pre>
<h3><a name="combiningsubstitutionflags"></a>Combining substitution flags</h3>
<p>You can combine flags when it makes sense. Some things that don't work are
using a number and a "g" flag, because this is inconsistent. </p>
<h3><a name="scripts"></a>Scripts</h3>
<p>If you have a large number of <i>sed</i> rules, you can put then into a
script.</p>
<p>A <i>sedscript</i> could look like this: </p>
<pre># sed comment - This script changes lower case vowels to upper case<br />s/a/A/g<br />s/e/E/g<br />s/i/I/g<br />s/o/O/g<br />s/u/U/g<br /></pre>
<p>When there are several commands in one file, each command must be on
separate line. </p>
<h3><a name="comments"></a>Comments</h3>
<p><i>Sed</i> comments are lines where the first non-white character is a
"#." On many systems, <i>sed</i> can have only one comment, and it must be
the first line of the script. On modern systems, you can have several comment
lines anywhere in the script.</p>
<h3><a name="multiplerulesandorderofexecution"></a>Multiple rules and order of execution</h3>
<p>As we explore more of the commands of <i>sed</i>, the commands will become
complex, and the actual sequence can be confusing. It's really quite simple.
Each line is read in. The various commands, in order specified by the user,
has a chance to operate on the input line. After the substitutions are made,
the next command has a chance to operate on the same line, which may have
been modified by earlier commands. If you ever have a question, the best way
to learn what will happen is to just try it out. If a complex command doesn't
work, make it simpler. If you are having problems getting a complex script
working, break it up into two smaller scripts and do them one by one. </p>
<h3><a name="addressesandrangesoftext"></a>Addresses and Ranges of Text</h3>
<p>You have only learned one command, and you can see how powerful <i>sed</i>
is. However, all it is doing is a search and substitute. That is, the
substitute command is treating each line by itself, without caring about
nearby lines. What would be useful is the ability to restrict the operation
to certain lines. Some useful restrictions might be: </p>
<p>- Specifying a line by its number.</p>
<p>- Specifying a range of lines by number.</p>
<p>- All lines containing a pattern.</p>
<p>- All lines from the beginning of a file to a regular expression.</p>
<p>- All lines from a regular expression to the end of the file.</p>
<p>- All lines between two regular expressions.<br />
</p>
<p><i>Sed</i> can do all that and more. Every command in <i>sed</i> can be
assigned an address, range or restriction like the above examples. The
restriction or address immediately precedes the command: </p>
<pre><i>restriction</i> <i>command</i><br /></pre>
<h3><a name="restrictingtoalinenumber"></a>Restricting to a line number</h3>
<p>The simplest restriction is a line number. If you wanted to delete the
first number on line 3, just add a "3" before the command: </p>
<pre>3 s/[0-9][0-9]*//<br /></pre>
<h3><a name="patterns"></a>Patterns</h3>
<p>Many Unix utilities use a slash to search for a regular expression.
<i>Sed</i> uses the same convention, provided you terminate the expression
with a slash. To delete the first number on all lines that start with a "#,"
use: </p>
<pre>/^#/ s/[0-9][0-9]*//<br /></pre>
<p>I placed a space after the "/<i>expression</i>/" so it is easier to read.
It isn't necessary, but without it the command is harder to fathom.
<i>Sed</i> does provide a few extra options when specifying regular
expressions. But I'll discuss those later. If the expression starts with a
backslash, the next character is the delimiter. To use a comma instead of a
slash, use: </p>
<pre>\,^#, s/[0-9][0-9]*//<br /></pre>
<p>The main advantage of this feature is searching for slashes. Suppose you
wanted to search for the string "/usr/local/bin" and you wanted to change it
for "/common/all/bin." You could use the backslash to escape the slash: </p>
<pre>/\/usr\/local\/bin/ s/\/usr\/local/\/common\/all/<br /></pre>
<p>It would be easier to follow if you used an underline instead of a slash
as a search. This example uses the underline in both the search command and
the substitute command: </p>
<pre>\_/usr/local/bin_ s_/usr/local_/common/all_<br /></pre>
<p>This illustrates why <i>sed</i> scripts get the reputation for obscurity.
I could be perverse and show you the example that will search for all lines
that start with a "g," and change each "g" on that line to an "s:" </p>
<pre>/^g/s/g/s/g<br /></pre>
<p>Adding a space and using an underscore after the substitute command makes
this <b>much</b> easier to read: </p>
<pre>/^g/ s_g_s_g<br /></pre>
<p>Er, I take that back. It's hopeless. There is a lesson here: Use comments
liberally in a <i>sed</i> script. Comments are a Good Thing. You may have
understood the script perfectly when you wrote it. But six months from now it
could look like a confusing thing. </p>
<h3><a name="rangesbylinenumber"></a>Ranges by line number</h3>
<p>You can specify a range on line numbers by inserting a comma between the
numbers. To restrict a substitution to the first 100 lines, you can use: </p>
<pre>1,100 s/A/a/<br /></pre>
<p>If you know exactly how many lines are in a file, you can explicitly state
that number to perform the substitution on the rest of the file. In this
case, assume that there are 532 lines in the file: </p>
<pre>101,532 s/A/a/<br /></pre>
<p>An easier way is to use the special character "$," which means the last
line in the file. </p>
<pre>101,$ s/A/a/<br /></pre>
<p>The "$" is one of those conventions that mean "last" in several utilities.
</p>
<h3><a name="rangesbypatterns"></a>Ranges by patterns</h3>
<p>You can specify two regular expressions as the range. Assuming a "#"
starts a comment, you can search for a keyword, remove all comments until you
see the second keyword. In this case the two keywords are "start" and "stop:"
</p>
<pre>/start/,/stop/ s/#.*//<br /></pre>
<p>The first pattern turns on a flag that tells <i>sed</i> to perform the
substitute command on every line. The second pattern turns off the flag. If
the "start" and "stop" pattern occurs twice, the substitution is done both
times. If the "stop" pattern is missing, the flag is never turned off, and
the substitution will be performed on every line until the end of the file.
</p>
<p>You should know that if the "start" pattern is found, the substitution
occurs on the same line that contains "start." This turns on a switch, which
is line oriented. That is, the next line is read. If it contains "stop" the
switch is turned off. Otherwise, the substitution command is tried. Switches
are line oriented, and not word oriented. </p>
<p>You can combine line numbers and regular expressions. This example will
remove comments from the beginning of the file until it finds the keyword
"start:" </p>
<pre>1,/start/ s/#.*//<br /></pre>
<p>This example will remove comments everywhere except the lines
<b>between</b> the two keywords: </p>
<pre>1,/start/ s/#.*//' -e '/stop/,$ s/#.*//<br /></pre>
<p>The last example has a range that overlaps the "/start/,/stop/" range, as
both ranges operate on the lines that contain the keywords. I will show you
later how to restrict a command up to, <b>but not including</b> the line
containing the specified pattern. </p>
<p>Before I start discussing the various commands, should show know that some
commands cannot operate on a range of lines. I will let you know when I
mention the commands. I will describe three commands in this secton. One of
the three cannot operate on a range. </p>
<h3><a name="deletewithd"></a>Delete with d</h3>
<p>Using ranges can be confusing, so you should expect to do some
experimentation when you are trying out a new script. A useful command
deletes every line that matches the restriction: "d." If you want to look at
the first 10 lines of a file, you can use: </p>
<pre>11,$ d<br /></pre>
<p>which is similar in function to the <i>head</i> command. If you want to
chop off the header of a mail message, which is everything up to the first
blank line, use: </p>
<pre>1,/^$/ d<br /></pre>
<p>The range for deletions can be regular expressions pairs to mark the begin
and end of the operation. Or it can be a single regular expression. Deleting
all lines that start with a "#" is easy: </p>
<pre>/^#/ d<br /></pre>
<p>Removing comments and blank lines takes two commands. The first removes
every character from the "#" to the end of the line, and the second deletes
all blank lines: </p>
<pre>s/#.*//</pre>
<pre>/^$/ d<br /></pre>
<p>A third one should be added to remove all blanks and tabs immediately
before the end of line: </p>
<pre>s/#.*//<br />s/[ ^I]*$//<br />/^$/ d<br /></pre>
<p>The character "^I" is a <i>CRTL-I</i> or tab character. You would have to
explicitly type in the tab. Note the order of operations above, which is in
that order for a very good reason. Comments might start in the middle of a
line, with white space characters before them. Therefore comments are first
removed from a line, potentially leaving white space characters that were
before the comment. The second command removes all trailing blanks, so that
lines that are now blank are converted to empty lines. The last command
deletes empty lines. Together, the three commands removes all lines
containing only comments, tabs or spaces. </p>
<p>This demonstrates the pattern space <i>sed</i> uses to operate on a line.
The actual operation <i>sed</i> uses is: </p>
<p>- Copy the input line into the pattern space.</p>
<p>- Apply the first <i>sed</i> command on the pattern space, if the address
restriction is true.</p>
<p>- Repeat with the next sed expression, again operating on the pattern
space.</p>
<p>- When the last operation is performed, write out the pattern space and
read in the next line from the input file.<br />
</p>
<h3><a name="reversingtherestrictionwith"></a>Reversing the restriction with !</h3>
<p>Sometimes you need to perform an action on every line except those that
match a regular expression, or those outside of a range of addresses. The "!"
character, which often means not in Unix utilities, inverts the address
restriction.</p>
<h3><a name="theqorquitcommand"></a>The q or quit command</h3>
<p>There is one more simple command that can restrict the changes to a set of
lines. It is the "q" command: quit. the third way to duplicate the head
command is: </p>
<pre>11 q<br /></pre>
<p>which quits when the eleventh line is reached. This command is most useful
when you wish to abort the editing after some condition is reached. </p>
<p>The "q" command is the one command that does not take a range of
addresses. Obviously the command </p>
<pre>1,10 q<br /></pre>
<p>cannot quit 10 times. Instead </p>
<pre>1 q<br /></pre>
<p>or </p>
<pre>10 q</pre>
<p>is correct. </p>
<h3><a name="groupingwithand"></a>Grouping with { and }</h3>
<p>The curly braces, "{" and "}," are used to group the commands. </p>
<p>Hardly worth the build up. All that prose and the solution is just
matching squigqles. Well, there is one complication. Since each <i>sed</i>
command must start on its own line, the curly braces and the nested
<i>sed</i> commands must be on separate lines. </p>
<p>Previously, I showed you how to remove comments starting with a "#." If
you wanted to restrict the removal to lines between special "begin" and "end"
key words, you could use: <br />
</p>
<pre>/begin/,/end/ {<br />s/#.*//<br />s/[ ^I]*$//<br />/^$/ d<br />p<br />}</pre>
<p>These braces can be nested, which allow you to combine address ranges. You
could perform the same action as before, but limit the change to the first
100 lines: <br />
</p>
<pre>1,100 {<br />/begin/,/end/ {<br />s/#.*//<br />s/[ ^I]*$//<br />/^$/ d<br />p<br />}<br />}</pre>
<p>You can place a "!" before a set of curly braces. This inverts the
address, which removes comments from all lines <b>except</b> those between
the two reserved words: <br />
</p>
<pre>/begin/,/end/ !{<br />s/#.*//<br />s/[ ^I]*$//<br />/^$/ d<br />p<br />}</pre>
<h3><a name="thecommentcommand"></a>The # Comment Command</h3>
<p>As we dig deeper into <i>sed</i>, comments will make the commands easier
to follow. Older versions of <i>sed</i> only allow one line as a comment, and
it must be the first line. Recent versions allow more than one comment, and
these comments don't have to be first. An example could be: </p>
<h3><a name="addingchanginginsertingnewlines"></a>Adding, Changing, Inserting new lines</h3>
<p><i>Sed</i> has three commands used to add new lines to the output stream.
Because an entire line is added, the new line is on a line by itself to
emphasize this. There is no option, an entire line is used, and it must be on
its own line. If you are familiar with many unix utilities, you would expect
<i>sed</i> to use a similar convention: lines are continued by ending the
previous line with a "\". The syntax to these commands are finicky, like the
"r" and "w" commands. </p>
<h4><a name="appendalinewitha"></a>Append a line with 'a'</h4>
<p>The "a" command appends a line after the range or pattern. This example
will add a line after every line with "WORD:</p>
<pre>/WORD/ a\</pre>
<pre>Add this line after every line with WORD</pre>
<h4><a name="insertalinewithi"></a>Insert a line with 'i'</h4>
<p>You can insert a new line before the pattern with the "i" command: </p>
<pre>/WORD/ i\</pre>
<pre>Add this line before every line with WORD</pre>
<h4><a name="changealinewithc"></a>Change a line with 'c'</h4>
<p>You can change the current line with a new line. </p>
<pre>/WORD/ c\</pre>
<pre>Replace the current line with the line</pre>
<p>A "d" command followed by a "a" command won't work, as I discussed
earlier. The "d" command would terminate the current actions. You can combine
all three actions using curly braces: <br />
</p>
<pre>/WORD/ {<br />i\<br />Add this line before<br />a\<br />Add this line after<br />c\<br />Change the line to this one<br />}</pre>
<h3><a name="leadingtabsandspacesinasedscript"></a>Leading tabs and spaces in a sed script</h3>
<p><i>Sed</i> ignores leading tabs and spaces in all commands. However these
white space characters may or may not be ignored if they start the text
following a "a," "c" or "i" command. If you want to keep leading spaces, and
not care about which version of <i>sed</i> you are using, put a "\" as the
first character of the line: </p>
<pre>a\</pre>
<pre>\        This line starts with a tab</pre>
<h3><a name="addingmorethanoneline"></a>Adding more than one line</h3>
<p>All three commands will allow you to add more than one line. Just end each
line with a "\:" </p>
<pre>/WORD/ a\<br />Add this line\<br />This line\<br />And this line</pre>
<h3><a name="addinglinesandthepatternspace"></a>Adding lines and the pattern space</h3>
<p>I have mentioned the pattern space before. Most commands operate on the
pattern space, and subsequent commands may act on the results of the last
modification. The three previous commands, like the read file command, add
the new lines to the output stream, bypassing the pattern space.</p>
<h3><a name="addressrangesandtheabovecommands"></a>Address ranges and the above commands</h3>
<p>Some commands can take a range of lines, and others cannot. To be precise,
the commands "a," "i," "r," and "q" will not take a range like "1,100" or
"/begin/,/end/." The "c" or change command allows this, and it will let you
change several lines into one: </p>
<pre>/begin/,/end/ c\<br />***DELETED***<br /></pre>
<p>If you need to do this, you can use the curly braces, as that will let you
perform the operation on every line: </p>
<pre>1,$ {</pre>
<pre>a\</pre>
<pre>}</pre>
<h3><a name="multilinepatterns"></a>Multi-Line Patterns</h3>
<p>Most UNIX utilities are line oriented. Regular expressions are line
oriented. Searching for patterns that covers more than one line is not an
easy task. (Hint: It will be very shortly.) </p>
<p><i>Sed</i> reads in a line of text, performs commands which may modify the
line, and outputs modification if desired. The main loop of a <i>sed</i>
script looks like this: </p>
<p>1. The next line is read from the input file and placed in the pattern
space. If the end of file is found, and if there are additional files to
read, the current file is closed, the next file is opened, and the first line
of the new file is placed into the pattern space. </p>
<p>2. The line count is incremented by one.</p>
<p>3. Each <i>sed</i> command is examined. If there is a restriction placed
on the command, and the current line in the pattern space meets that
restriction, the command is executed. Some commands, like "n" or "d" cause
<i>sed</i> to go to the top of the loop. The "q" command causes <i>sed</i> to
stop. Otherwise the next command is examined. </p>
<p>3. After all of the commands are examined, the pattern space is output.
</p>
<p>The restriction before the command determines if the command is executed.
If the restriction is a pattern, and the operation is the delete command,
then the following will delete all lines that have the pattern: </p>
<pre>/PATTERN/ d<br /></pre>
<p>If the restriction is a pair of numbers, then the deletion will happen if
the line number is equal to the first number or greater than the first number
and less than or equal to the last number: </p>
<pre>10,20 d<br /></pre>
<p>If the restriction is a pair of patterns, there is a variable that is kept
for each of these pairs. If the variable is false and the first pattern is
found, the variable is made true. If the variable is true, the command is
executed. If the variable is true, and the last pattern is on the line, after
the command is executed the variable is turned off: </p>
<pre>/begin/,/end/ d<br /></pre>
<p>Whew! That was a mouthful. Hey, I said it was a review. If you have read
the previous lessons, you should have breezed through this. You may want to
refer back to this review, because I covered several subtle points. </p>
<h3><a name="transformwithy"></a>Transform with y</h3>
<p>If you wanted to change a word from lower case to upper case, you could
write 26 character substitutions, converting "a" to "A," etc. <i>Sed</i> has
a command that operates like the <i>tr</i> program. It is called the "y"
command. For instance, to change the letters "a" through "f" into their upper
case form, use: </p>
<pre>y/abcdef/ABCDEF/<br /></pre>
<p>I could have used an example that converted all 26 letters into upper
case, and while this column covers a broad range of topics, the "column"
prefers a narrower format. </p>
<p>If you wanted to convert a line that contained a hexadecimal number (e.g.
0x1aff) to upper case (0x1AFF), you could use: </p>
<pre>/0x[0-9a-zA-Z]*/ y/abcdef/ABCDEF<br /></pre>
<p>This works fine if there are only numbers in the file. If you wanted to
change the second word in a line to upper case, you are out of luck - unless
you use multi-line editing.</p>
<h3><a name="displayingcontrolcharacterswithal"></a>Displaying control characters with a l</h3>
<p>The "l" command prints the current pattern space. It is therefore useful
in debugging <i>sed</i> scripts. It also converts unprintable characters into
printing characters by outputting the value in octal preceded by a "\"
character.</p>
<h3><a name="theholdbuffer"></a>The Hold Buffer</h3>
<p>So far we have talked about three concepts of <i>sed</i>: (1) The input
stream or data before it is modified, (2) the output stream or data after it
has been modified, and (3) the pattern space, or buffer containing characters
that can be modified and send to the output stream. </p>
<p>There is one more "location" to be covered: the <i>hold buffer</i> or
<i>hold space</i>. Think of it as a spare pattern buffer. It can be used to
"copy" or "remember" the data in the pattern space for later. There are five
commands that use the hold buffer. </p>
<h3><a name="exchangewithx"></a>Exchange with x</h3>
<p>The "x" command eXchanges the pattern space with the hold buffer. By
itself, the command isn't useful. Executing the <i>sed</i> command</p>
<pre>x<br /></pre>
<p>as a filter adds a blank line in the front, and deletes the last line. It
looks like it didn't change the input stream significantly, but the
<i>sed</i> command is modifying every line. </p>
<p>The hold buffer starts out containing a blank line. When the "x" command
modifies the first line, line 1 is saved in the hold buffer, and the blank
line takes the place of the first line. The second "x" command exchanges the
second line with the hold buffer, which contains the first line. Each
subsequent line is exchanged with the preceding line. The last line is placed
in the hold buffer, and is not exchanged a second time, so it remains in the
hold buffer when the program terminates, and never gets printed. This
illustrates that care must be taken when storing data in the hold buffer,
because it won't be output unless you explicitly request it. </p>
<h3><a name="holdwithhorh"></a>Hold with h or H</h3>
<p>The "x" command exchanges the hold buffer and the pattern buffer. Both are
changed. The "h" command copies the pattern buffer into the hold buffer. The
pattern buffer is unchanged.</p>
<h3><a name="flowcontrol"></a>Flow Control</h3>
<p>As you learn about <i>sed</i> you realize that it has it's own programming
language. It is true that it's a very specialized and simple language. What
language would be complete without a method of changing the flow control?
There are three commands <i>sed</i> uses for this. You can specify a label
with an text string followed by a colon. The "b" command branches to the
label. The label follows the command. If no label is there, branch to the end
of the script. The "t" command is used to test conditions. </p>
<h3><a name="testingwitht"></a>Testing with t</h3>
<p>You can execute a branch if a pattern is found. You may want to execute a
branch only if a substitution is made. The command "t label" will branch to
the label if the last substitute command modified the pattern space. </p>
<p>One use for this is recursive patterns. Suppose you wanted to remove white
space inside parenthesis. These parentheses might be nested. That is, you
would want to delete a string that looked like "( ( ( ())) )." The <i>sed</i>
expressions</p>
<pre>s/([ ^I]*)/g<br /></pre>
<p>would only remove the innermost set. You would have to pipe the data
through the script four times to remove each set or parenthesis. You could
use the regular expression</p>
<pre>s/([ ^I()]*)/g<br /></pre>
<p>but that would delete non-matching sets of parenthesis. The "t" command
would solve this: <br />
</p>
<pre>:again<br />s/([ ^I]*)//g<br />t again</pre>
<h3><a name="passingregularexpressionsasarguments"></a>Passing regular expressions as arguments</h3>
<p>In the earlier scripts, I mentioned that you would have problems if you
passed an argument to the script that had a slash in it. In fact, and regular
expression might cause you problems. A script like the following is asking to
be broken some day: </p>
<pre>s/'"$1"'//g</pre>
If the argument contains any of these characters in it you may get a
broken script: "/\.*[]^$." One solution is to have the user put a backslash
before any of these characters when they pass it as an argument. However, the
user has to know which characters are special.</div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-attachments" style="display:none" class="sites-canvas-bottom-no-items">
<div id="sites-attachment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotId="sites-attachment-inner" style="display:none;" class="sites-attachment-inner">
<ul id="JOT_ATTACH_container">
</ul>
</div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments" style="display:none;" class="sites-canvas-bottom-no-items">
<div id="sites-comment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotId="sites-comment-inner" style="display:none;" class="sites-comment-inner">
<div jotId="comments" class="sites-comments">
<div id="_wuid_" jotId="template" class="sites-comment" style="display:none">
<div><strong>_displayNameOrEmail_</strong> - _time_ - <a href="javascript:;" onClick="JOT_postEvent('removeComment', this, {wuid:'_wuid_'});">Remove</a></div>
<p dir="_dir_">_text_</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter">
<p>
            
                 
                <a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?continue=http%3A%2F%2Fsites.google.com%2Fsite%2Fbibledit%2Freference%2Fmenu%2Fmenu-preferences%2Ffilters%2Fsed&amp;service=jotspot">Sign in</a>
              
             
            <a class="sites-system-link" href="javascript:void(window.open('http://www.google.com/sites/help/intl/en/terms.html'))">Terms</a>
             
            <a class="sites-system-link" href="../../../../system/app/pages/reportAbuse%3Fsrc=%252Freference%252Fmenu%252Fmenu-preferences%252Ffilters%252Fsed.html" target="_blank">Report Abuse</a>
            
                 
                <a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print page</a>
              
            
             | 
            <b class="powered-by">Powered by <a class="sites-system-link" href="../../../../../../../www.google.com/accounts/ServiceLogin%3Fcontinue=http:%252F%252Fsites.google.com%252F&amp;service=jotspot&amp;passive=true&amp;ul=1.html">Google Sites</a></b>
</p>
</div>
</div>
</div>
</div>
</div> 
</div> 
</div> 

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>

<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/b46d27/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
          var searchBox = new gsites.Searchbox('sites-searchbox-search-button');
          searchBox.initListeners();
          searchBox.setScopesMenu(webspace.page.isSiteRtlLocale);
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("36117816110642753", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_36117816110642753');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000,1128902400000,1130657000000,1143333000000,1143806400000,1145000000000,1146380000000,1152489600000,1159800000000,1159500000000,1162095000000,1162075000000,1162105500000]);
    gsites.Xhr.send('http://sites.google.com/site/bibledit/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {                    
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer);
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();

    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }
 //]]>
</script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
